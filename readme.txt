/*****************升降电机--CAN1通信*******************/（从后向前看）
左电机 ID  5
右电机 ID  6

/*******************四个麦轮底盘电机ID-CAN1通信*****************/
左前方ID  1
右前方ID  2
左后方ID  3
右后方ID  4

/******************步进电机绝对值编码器-CAN2通信******************/
ID   0x01  （大疆电机ID是从0x201开始）

/******************抓手关节旋转电机-CAN2通信******************/
ID   5

/******************抓手履带电机-CAN2通信******************/
ID   7
ID   8


/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/

AB  EFGH
空余 CD

ST VWXYZ
空余U


/***********步进电机***************/       
PD12  ：用于输出PWM，控制步进电机的步数(圈数)                                           H
PI0   ：用于控制步进电机的方向                                                          A
PH12  ：用于输出PWM，控制有刷电机的速度                                                 B


/****************读取微动开关的状态*******************/
PA0:   #define  Read_Step_Motor_State 	GPIO_ReadInputDataBit(GPIOA,GPIO_Pin_0)         S     


/**************抓手关节旋转电机***************/
PA1  通过光电控制初始位置                                                               T


/******************摄像头舵机************************/
PH12 通过舵机控制摄像头位置                                                             B


/******************五个位置的光电对应IO************************/
//PI引脚
#define Read_Position_Min				    GPIO_ReadInputDataBit(GPIOA,GPIO_Pin_3)	    V
#define Read_Position_500mm				    GPIO_ReadInputDataBit(GPIOI,GPIO_Pin_5)	    W
#define Read_Position_700mm 			    GPIO_ReadInputDataBit(GPIOI,GPIO_Pin_6)	    X
#define Read_Position_710mm	    		    GPIO_ReadInputDataBit(GPIOI,GPIO_Pin_7)     Y
#define Read_Position_Max 				    GPIO_ReadInputDataBit(GPIOI,GPIO_Pin_2)     Z


/******************气缸二级升降（一个引脚控制两个升降气缸）*************************/
PD13                                                                                    G                
#define 	CYLINDER_TO_DOWN				GPIO_SetBits(GPIOD, GPIO_Pin_13);
#define     CYLINDER_TO_UP 			   	    GPIO_ResetBits(GPIOD, GPIO_Pin_13);

/******************气缸弹收抓手 *************************/
PD14                                                                                    F
#define 	TURN_BACK_HAND				 	GPIO_SetBits(GPIOD, GPIO_Pin_14);
#define 	SHOOT_OUT_HAND   			 	GPIO_ResetBits(GPIOD, GPIO_Pin_14);

/********************气缸张合抓手*************************/
PD15                                                                                    E
#define     CLOSE_HAND		       			GPIO_SetBits(GPIOD, GPIO_Pin_15);
#define 	OPEN_HAND   			     	GPIO_ResetBits(GPIOD, GPIO_Pin_15);

#define READ_HAND_OPEN_OR_CLOSE       GPIO_ReadInputDataBit(GPIOD, GPIO_Pin_15);
#define  ReadShootBackHandState       GPIO_ReadInputDataBit(GPIOD,GPIO_Pin_14)	




PE4   用于控制直流有刷电机的顺时针旋转                                                  J2
PE5   用于控制直流有刷电机的逆时针旋转                                                  J1
PE6   控制救援左钩子                                                                    K1                                            
PE12  控制救援右钩子                                                                    K2


/******************************************************************************************************************************************************/
/******************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/



/**********将波特率改为1Mbps*******/
//			  encoder_data[0] = 0x40;  //数据长度
//				encoder_data[1] = 0x01;  //编码器地址
//				encoder_data[2] = 0x03;  //指令码
//				encoder_data[3] = 0x01;  //指令码数据
/**********自动回发****************/
//				encoder_data[0] = 0x40;  //数据长度
//				encoder_data[1] = 0x01;  //编码器地址
//				encoder_data[2] = 0x04;  //指令码
//				encoder_data[3] = 0xAA;  //指令码数据	
/***********设置ID为0x201****************/			
//				encoder_data[0] = 0x40;  //数据长度
//				encoder_data[1] = 0xc9;  //编码器地址
//				encoder_data[2] = 0x02;  //指令码
//				encoder_data[3] = 0x01;  //指令码数据	
	
	
/******************************************************************************************************************************************************/
/******************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/
/**************************************************************************************************************************************************/






shift + Z    一级升降最低位置
shift + X    一级升降500mm高度
shift + C    一级升降700mm高度
shift + V    一级升降710mm高度
shift + B    一级升降最高位置


        F    二级升降  升
shift + F    二级升降  降
        G    弹出抓手
shift + G    回收抓手
        Q    按一下开抓手，在按一下关闭抓手
        E    抓手俯仰水平
shift + E    抓手俯仰向下


ctrl + Z    抓手回到水平
ctrl + X    顺时针90度
ctrl + C    顺时针180度
ctrl + V    逆时针90度
   Z + C    抓手复位
       B    救援

ctrl + F   传回金矿
ctrl + G   吐出金矿

鼠标左右键对应救援左右小抓手

电机升高底盘降速
左拨杆拨到最小面，检录模式





127  底盘行为内设置底盘模式
374  底盘鼠标输入量

274  chassis_yaw  陀螺仪数据 减 电机角度数据







光电对正阻值
200kΩ
对信号9.8
对GND 19.3


8排pwm  STUVWXYZ
工程从后往前看  端子（最左边和最右边为两个5v电源）从左往右分别对应STUVWXYZ


8排 pwm ABCDEFGH  
1、从右往左 HGFEDCBA  倒着来
2、左边四个K1 K2 J1 J2
3、继电器 1～8 对应端子从右往左1～6
       7 对应 K2    8对应 K1


AB  EFGH
空余 CD

ST VWXYZ
空余U














中档：
Q:开摩擦轮
E:关摩擦轮

停止和就绪状态转换：
上拨一次拨弹进入就绪状态，再上拨一次进入停止状态
处于中档时可以用Q控制进入就绪态，E进入停止状态

由就绪态进入射击状态：
拨杆拨一下下档，或按一次鼠标左右键
当拨杆一直处于下档或鼠标长按时保持连发

由射击状态转射击完成状态：
微动开关松开时进入射击完成状态

射击完成后，如果一段时间内没子弹则进入就绪态，如果还有微动开关还处于按下状态，则重新进入射击状态